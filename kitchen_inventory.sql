-- KITCHEN INVENTORY DATABASE

CREATE TABLE ITEMS (
  ITEM_ID INT AUTO_INCREMENT PRIMARY KEY,
  ITEM_NAME VARCHAR(100) NOT NULL,
  CATEGORY VARCHAR(100),
  UNIT VARCHAR(100),
  REORDER_LEVEL DECIMAL(10,2),
  EXPIRE_DATE DATE
);

CREATE TABLE DAILY_STOCK (
  STOCK_ID INT AUTO_INCREMENT PRIMARY KEY,
  ITEM_ID INT,
  ITEM_NAME VARCHAR(100),
  STOCK_DATE DATE NOT NULL,
  OPENING_STOCK INT DEFAULT 0,
  RECEIVED INT DEFAULT 0,
  USAGES INT DEFAULT 0,
  CLOSING_STOCK INT GENERATED ALWAYS AS (OPENING_STOCK + RECEIVED - USAGES) STORED,
  FOREIGN KEY (ITEM_ID) REFERENCES ITEMS(ITEM_ID)
);

CREATE TABLE SUPPLIER (
  SUPPLIER_ID INT AUTO_INCREMENT PRIMARY KEY,
  SUPPLIER_NAME VARCHAR(100) NOT NULL,
  CONTACT VARCHAR(20),
  CITY VARCHAR(100)
);

CREATE TABLE SUPPLIER_ITEMS (
  SUPPLIER_ID INT,
  ITEM_ID INT,
  PRIMARY KEY (SUPPLIER_ID, ITEM_ID),
  FOREIGN KEY (SUPPLIER_ID) REFERENCES SUPPLIER(SUPPLIER_ID),
  FOREIGN KEY (ITEM_ID) REFERENCES ITEMS(ITEM_ID)
);


INSERT INTO items (item_name, category, unit, reorder_level, expire_date) VALUES
('TURMERIC POWDER', 'Spices', 'kg', 0.5, '2026-12-31'),
('GHEE', 'Dairy', 'kg', 0.5, '2025-12-31'),
('Kristal SALT', 'Salt', 'nos', 5, '2027-12-31'),
('SALT', 'Salt', 'nos', 5, '2027-12-31'),
('FRYUMS', 'Snacks', 'pack', 5, '2025-06-30'),
('MEAL MAKER', 'Snacks', 'pack', 1, '2025-06-30'),
('VATRAL', 'Snacks', 'kg', 0.5, '2025-12-31'),
('PICKLE', 'Condiments', 'KG', 1, '2026-06-30'),
('PONNI RICE', 'Rice', 'kg', 25, '2026-12-31'),
('BASMATI RICE', 'Rice', 'kg', 25, '2026-12-31'),
('BULLET RICE', 'Rice', 'kg', 10, '2026-12-31'),
('B RICE', 'Rice', 'kg', 15, '2026-12-31'),
('R RICE', 'Rice', 'kg', 15, '2026-12-31'),
('BAKING SODA', 'Baking', 'kg', 1, '2027-12-31'),
('BREAD CRUMBS', 'Baking', 'KG', 1, '2025-06-30'),
('VANASPATI', 'Cooking', 'kg', 1, '2025-12-31'),
('FOOD COLOR', 'Baking', 'bottle', 1, '2027-12-31'),
('DRY GRAPES', 'Dry Fruits', 'kg', 0.2, '2025-12-31'),
('CASHEW NUTS', 'Dry Fruits', 'kg', 0.2, '2025-12-31'),
('CHILLI SAUCE', 'Condiments', 'bottle', 2, '2026-12-31'),
('TOMATO SAUCE', 'Condiments', 'bottle', 2, '2026-12-31'),
('POHA', 'Grains', 'kg', 2, '2025-12-31'),
('GRAM FLOUR', 'Grains', 'kg', 2, '2025-12-31'),
('RAWA', 'Grains', 'kg', 10, '2025-12-31'),
('MAIDA', 'Grains', 'kg', 5, '2025-12-31'),
('CORN FLOUR', 'Grains', 'kg', 1, '2025-12-31'),
('ATTA', 'Grains', 'kg', 20, '2025-12-31'),
('RICE FLOUR', 'Grains', 'kg', 1, '2025-12-31'),
('RICE SEVAI', 'Grains', 'kg', 10, '2025-12-31'),
('MOONG DAL', 'Pulses', 'kg', 5, '2025-12-31'),
('TOOR DAL', 'Pulses', 'kg', 5, '2025-12-31'),
('PEAS DAL', 'Pulses', 'kg', 5, '2025-12-31'),
('FRIED GRAMS', 'Pulses', 'kg', 5, '2025-12-31'),
('WHITE CHANNA', 'Pulses', 'kg', 2, '2025-12-31'),
('BLACK CHANNA', 'Pulses', 'kg', 2, '2025-12-31'),
('GREEN PEAS', 'Pulses', 'kg', 1, '2025-12-31'),
('GRAM DAL', 'Pulses', 'kg', 5, '2025-12-31'),
('RASAM MIX', 'Spices', 'kg', 0.2, '2026-12-31'),
('MUTTON MASALA', 'Spices', 'kg', 0.2, '2026-12-31'),
('EGGS MASALA', 'Spices', 'pack', 5, '2026-12-31'),
('CHICKEN MASALA', 'Spices', 'kg', 0.3, '2026-12-31'),
('SAMBAR MASALA', 'Spices', 'kg', 0.5, '2026-12-31'),
('GARAM MASALA', 'Spices', 'kg', 0.5, '2026-12-31'),
('65 MASALA', 'Spices', 'kg', 0.3, '2026-12-31'),
('SUGAR', 'Staples', 'kg', 5, '2027-12-31'),
('ASAFOETIDA POWDER', 'Spices', 'bottles', 5, '2027-12-31'),
('BIRYANI SN', 'Spices', 'bottles', 5, '2026-12-31'),
('WHITE SESAME', 'Spices', 'kg', 0.5, '2026-12-31'),
('3 ROSES', 'Tea', 'kg', 0.5, '2026-12-31'),
('GARLIC', 'Spices', 'kg', 5, '2026-12-31'),
('BETEL LEAF', 'Herbs', 'kg', 0.2, '2026-12-31'),
('FENUGREEK', 'Spices', 'kg', 0.2, '2026-12-31'),
('PEPPER POWDER', 'Spices', 'kg', 0.2, '2026-12-31'),
('WHOLE PEPPER', 'Spices', 'kg', 0.2, '2026-12-31'),
('DRY CHILLI', 'Spices', 'kg', 0.5, '2026-12-31'),
('TAMARIND', 'Spices', 'kg', 2, '2026-12-31'),
('FENNEL SEED', 'Spices', 'kg', 0.2, '2026-12-31'),
('CUMIN SEED', 'Spices', 'kg', 0.2, '2026-12-31'),
('CLOVE', 'Spices', 'kg', 0.2, '2026-12-31'),
('KASTURI MEDHI', 'Spices', 'pocket', 2, '2026-12-31'),
('STONE MAS', 'Spices', 'kg', 0.1, '2026-12-31'),
('KASA KASA', 'Spices', 'kg', 0.1, '2026-12-31'),
('CARDAMOM', 'Spices', 'kg', 0.1, '2026-12-31'),
('ANNASI FLOWER', 'Spices', 'kg', 0.1, '2026-12-31'),
('CHILLI POWDER', 'Spices', 'kg', 1, '2026-12-31'),
('DHANIA POWDER', 'Spices', 'kg', 1, '2026-12-31'),
('WHOLE DANIYA', 'Spices', 'kg', 0.5, '2026-12-31'),
('SOYA SAUCE', 'Condiments', 'bottle', 1, '2026-12-31'),
('ROUND APPALAM', 'Snacks', 'pack', 5, '2025-12-31'),
('MASOOR DAL', 'Pulses', 'kg', 5, '2025-12-31'),
('NOODLES', 'Grains', 'pack', 15, '2025-12-31'),
('OIL', 'Cooking', 'litre', 10, '2026-12-31'),
('URAD DAL', 'Pulses', 'kg', 5, '2025-12-31'),
('MUSTARD SEED', 'Spices', 'kg', 0.2, '2026-12-31'),
('RAJMA', 'Pulses', 'kg', 1, '2025-12-31'),
('MOOCHAI', 'Pulses', 'kg', 2, '2025-12-31'),
('KARAMANI', 'Pulses', 'kg', 2, '2025-12-31'),
('GROUND NUT', 'Dry Fruits', 'kg', 1, '2025-12-31'),
('LEMON SALT', 'Spices', 'kg', 0.2, '2026-12-31');

INSERT INTO supplier(supplier_name, contact, city) VALUES
('Sakthivel Traders', '9876543210', 'Chennai'),
('Masthan Traders', '9876501234', 'Chennai'),
('Local Shops', 'NA', 'Chennai');

INSERT INTO supplier_items(supplier_id, item_id) VALUES
(1,1),
(1,2),
(1,3),
(1,4),
(1,5),
(1,6),
(1,7),
(1,8),
(1,9),
(1,10),
(1,11),
(1,12),
(1,13),
(1,14),
(1,15),
(1,16),
(1,17),
(1,18),
(1,19),
(1,20),
(2,22),
(2,23),
(2,24),
(2,25),
(2,26),
(2,27),
(2,28),
(2,29),
(1,30),
(1,31),
(1,32),
(1,33),
(1,34),
(1,35),
(1,36),
(1,37),
(1,38),
(1,39),
(1,40),
(1,41),
(1,42),
(1,43),
(1,44),
(1,45),
(1,46),
(1,47),
(1,48),
(1,49),
(1,50),
(1,51),
(1,52),
(1,53),
(1,54),
(1,55),
(1,56),
(1,57),
(1,58),
(1,59),
(1,60),
(1,61),
(1,62),
(1,63),
(1,64),
(1,65),
(1,66),
(1,67),
(1,68),
(1,69),
(1,70),
(1,71),
(1,72),
(2,73),
(1,74),
(1,75),
(1,76),
(1,77),
(1,78),
(1,79),
(1,80);
